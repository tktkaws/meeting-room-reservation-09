# 会議室予約システム 解説

## 概要
会議室予約情報を管理するシステムです。1室のみの会議室を対象とし、ユーザーが予約の作成・閲覧・更新・削除を行えます。

## 主な機能
- 予約のCRUD操作
- 月間ビュー/週間ビュー/リストビューでの表示切替
- 部署別カラー設定とユーザー個別カラー設定
- メール通知機能（受信設定可能）
- 管理者による部署管理
- 非ログイン状態での予約閲覧

## 技術構成
- **バックエンド**: PHP
- **データベース**: SQLite
- **フロントエンド**: HTML, CSS, JavaScript
- **アーキテクチャ**: モジュール分割（クラス不使用）

## ファイル構成
```
├─ api/                    # DBを操作するPHPファイル
├─ database/              # DB、スキーマファイル
│  └─ meeting-room-reservation.sql
├─ src/
│  ├─ css/
│  ├─ images/
│  └─ js/
├─ config.html            # ユーザー情報の更新
├─ department.html        # 部署のCRUD（管理者のみ）
├─ index.html             # 予約のCRUD（メインページ）
├─ init_db.php            # DB初期化用スクリプト
└─ meeting-room-reservation.db  # SQLiteデータベース
```

## データベーステーブル
### users テーブル
- ユーザー情報（名前、メール、パスワード、管理者フラグ等）
- 部署ID、メール通知設定、カラー設定を含む

### departments テーブル
- 部署情報（名前、デフォルトカラー、表示順序）

### reservations テーブル
- 予約情報（タイトル、説明、日時、全社向けフラグ等）

## 使用方法

### 1. データベース初期化
まず以下のURLにアクセスしてデータベースを初期化してください：
```
http://localhost/meeting-room-reservation-08/init_db.php
```

### 2. 各ページへのアクセス
- **メインページ（予約管理）**: http://localhost/meeting-room-reservation-08/index.html
- **設定ページ**: http://localhost/meeting-room-reservation-08/config.html
- **部署管理ページ**: http://localhost/meeting-room-reservation-08/department.html

### 3. 予約の制限事項
- 土日は予約不可
- 営業時間：9時〜18時（日本時間）
- 15分単位での予約
- 同時刻の重複予約不可
- タイトル：最大50文字
- 詳細：最大300文字

### 4. 表示モード
- **月間ビュー**: カレンダー形式で月間予約を表示
- **週間ビュー**: 週単位で15分刻みの時間軸表示
- **リストビュー**: 今日以降の予約をリスト形式で表示

### 5. 権限
- **一般ユーザー**: 同一部署の予約操作、自身の設定変更
- **管理者**: 全予約の操作、部署管理、全ユーザー管理
- **非ログインユーザー**: 予約の閲覧のみ

## 注意事項
- イントラネット専用のため、セキュリティ要件は最小限
- メール送信機能はPHPで実装
- 部署別カラー識別機能あり
- 今日ボタンで当日へのジャンプ機能あり